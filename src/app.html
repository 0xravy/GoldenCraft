<!DOCTYPE html>
<html>
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />

        <title>GoldenCraft</title>
        <link
            href="https://unpkg.com/boxicons@2.1.4/css/boxicons.min.css"
            rel="stylesheet"
        />
        <link rel="stylesheet" href="./css/app.css" />

        <script defer src="./js/Object.js"></script>
        <script defer src="./js/app.js"></script>
    </head>
    <body>
        <!-- ################################################################ -->

        <header>
            <div>
                <div id="btnHome" data-id="home">الرئيسية</div>
                <i
                    style="transform: translateY(8px); font-size: 2rem"
                    class="bx bx-chevron-left"
                ></i>
                <span id="pageName"></span>
            </div>
        </header>

        <div class="crud">
            <!----------[ Home ]---------->
            <section id="home" class="open">
                <div class="head">
                    <h1>العملاء</h1>
                </div>

                <div class="body">
                    <div
                        style="position: sticky; width: 40%; background: none"
                    ></div>

                    <div class="inputs">
                        <h1>اضافة عميل جديد</h1>
                        <input
                            class="inpt"
                            id="inputChangeName"
                            type="text"
                            placeholder="اسم العميل..."
                        />
                        <div>
                            <button
                                class="btn"
                                data-user=""
                                id="addUser"
                                type=""
                            >
                                اضافة
                                <i class="bx bx-plus-medical"></i>
                            </button>
                        </div>
                    </div>

                    <div class="outputs">
                        <div class="search">
                            <h1>قائمة العملاء</h1>
                            <div>
                                <input
                                    class="inpt"
                                    type="text"
                                    placeholder="ادخل اسم العميل..."
                                    id="searchUsersInput"
                                    onkeyup="home.searchUsers(this.value)"
                                />
                                <button
                                    class="btn"
                                    onclick="home.searchUsers(searchUsersInput.value)"
                                    id="searchUsersButton"
                                >
                                    ابحث
                                </button>
                            </div>
                        </div>

                        <div class="nav">
                            <span>الاسم</span>
                            <span>الذهب</span>
                            <span>الاجور</span>
                        </div>
                        <!-- mainHome -->
                        <main id="mainHome"></main>
                    </div>
                    <!-- userShow -->
                    <div id="userShow" class="btns">
                        <h3><span id="userSelName"></span></h3>
                        <button class="btn" data-id="invoices" id="btnInvoices">
                            اظهار الفواتير
                            <i class="bx bx-notepad"></i>
                        </button>
                        <button class="btn" data-id="bonds" id="btnBonds">
                            اظهار السندات
                            <i class="bx bxs-food-menu"></i>
                        </button>
                    </div>
                </div>
            </section>

            <!--------[ Invoices ]-------->
            <section id="invoices">
                <div class="head">
                    <h1>الفواتير</h1>
                </div>

                <div class="body">
                    <div
                        class="inputs"
                        style="position: sticky; width: 40%; background: none"
                    ></div>

                    <div class="inputs">
                        <input
                            class="inpt"
                            type="number"
                            id="inputInvoicesNum"
                            placeholder="الرقم"
                        />
                        <input
                            class="inpt"
                            type="number"
                            id="inputInvoicesGold"
                            placeholder="الذهب"
                        />
                        <input
                            class="inpt"
                            type="number"
                            id="inputInvoicesInvoic"
                            placeholder="الاجر"
                        />
                        <input
                            id="inputInvoicesCreated"
                            type="date"
                            placeholder="التاريخ"
                        />
                        <div>
                            <button class="btn" id="addInvoices" type="">
                                اضافة
                                <i class="bx bx-notepad"></i>
                            </button>
                        </div>
                    </div>

                    <div class="outputs">
                        <div class="search">
                            <h1>قائمة العملاء</h1>
                            <div>
                                <input
                                    class="inpt"
                                    type="text"
                                    placeholder="ادخل اسم العميل..."
                                    id="searchInvoicesInput"
                                    onkeyup="invoices.searchTables(this.value)"
                                />
                                <button
                                    class="btn"
                                    onclick="invoices.searchTables(searchInvoicesInput.value)"
                                    id="searchInvoicesButton"
                                >
                                    ابحث
                                </button>
                            </div>
                        </div>

                        <div class="nav">
                            <span>رقم</span>
                            <span>الذهب</span>
                            <span>الاجور</span>
                            <span>التاريخ</span>
                        </div>
                        <!-- mainInvoices -->
                        <main id="mainInvoices"></main>
                    </div>
                </div>
            </section>

            <!---------[ Bonds ]---------->
            <section id="bonds">
                <div class="head">
                    <h1>السندات</h1>
                </div>

                <div class="body">
                    <div
                        class="inputs"
                        style="position: sticky; width: 40%; background: none"
                    ></div>

                    <div class="inputs">
                        <input
                            class="inpt"
                            type="number"
                            id="inputBondsNum"
                            placeholder="الرقم"
                        />
                        <input
                            class="inpt"
                            type="number"
                            id="inputBondsGold"
                            placeholder="الذهب"
                        />
                        <input
                            class="inpt"
                            type="number"
                            id="inputBondsInvoic"
                            placeholder="الاجر"
                        />
                        <input
                            id="inputBondsCreated"
                            type="date"
                            placeholder="التاريخ"
                        />
                        <div>
                            <button class="btn" id="addBonds" type="">
                                اضافة
                                <i class="bx bx-notepad"></i>
                            </button>
                        </div>
                    </div>

                    <div class="outputs">
                        <div class="search">
                            <h1>قائمة العملاء</h1>
                            <div>
                                <input
                                    class="inpt"
                                    type="text"
                                    placeholder="ادخل اسم العميل..."
                                    id="searchBondsInput"
                                    onkeyup="bonds.searchTables(this.value)"
                                />
                                <button
                                    class="btn"
                                    onclick="bonds.searchTables(searchBondsInput.value)"
                                    id="searchBondsButton"
                                >
                                    ابحث
                                </button>
                            </div>
                        </div>

                        <div class="nav">
                            <span>رقم</span>
                            <span>الذهب</span>
                            <span>الاجور</span>
                            <span>التاريخ</span>
                        </div>
                        <!-- mainBonds -->
                        <main id="mainBonds"></main>
                    </div>
                </div>
            </section>
        </div>

        <!-- ################################################################ -->
        <!-- Code injected by live-server -->
        <script>
            // <![CDATA[  <-- For SVG support
            if ("WebSocket" in window) {
                (function () {
                    function refreshCSS() {
                        var sheets = [].slice.call(
                            document.getElementsByTagName("link")
                        );
                        var head = document.getElementsByTagName("head")[0];
                        for (var i = 0; i < sheets.length; ++i) {
                            var elem = sheets[i];
                            var parent = elem.parentElement || head;
                            parent.removeChild(elem);
                            var rel = elem.rel;
                            if (
                                (elem.href && typeof rel != "string") ||
                                rel.length == 0 ||
                                rel.toLowerCase() == "stylesheet"
                            ) {
                                var url = elem.href.replace(
                                    /(&|\?)_cacheOverride=\d+/,
                                    ""
                                );
                                elem.href =
                                    url +
                                    (url.indexOf("?") >= 0 ? "&" : "?") +
                                    "_cacheOverride=" +
                                    new Date().valueOf();
                            }
                            parent.appendChild(elem);
                        }
                    }
                    var protocol =
                        window.location.protocol === "http:"
                            ? "ws://"
                            : "wss://";
                    var address =
                        protocol +
                        window.location.host +
                        window.location.pathname +
                        "/ws";
                    var socket = new WebSocket(address);
                    socket.onmessage = function (msg) {
                        if (msg.data == "reload") window.location.reload();
                        else if (msg.data == "refreshcss") refreshCSS();
                    };
                    if (
                        sessionStorage &&
                        !sessionStorage.getItem(
                            "IsThisFirstTime_Log_From_LiveServer"
                        )
                    ) {
                        console.log("Live reload enabled.");
                        sessionStorage.setItem(
                            "IsThisFirstTime_Log_From_LiveServer",
                            true
                        );
                    }
                })();
            } else {
                console.error(
                    "Upgrade your browser. This Browser is NOT supported WebSocket for Live-Reloading."
                );
            }
            // ]]>
        </script>
    </body>
</html>
